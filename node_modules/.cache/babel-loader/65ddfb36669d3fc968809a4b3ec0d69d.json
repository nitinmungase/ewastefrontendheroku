{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ni3\\\\Desktop\\\\C DAC\\\\Project\\\\React\\\\react-jwt-auth-master\\\\src\\\\components\\\\profile.component.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport TutorialDataService from \"../services/ewaste.service\";\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.saveTutorial = this.saveTutorial.bind(this);\n    this.newTutorial = this.newTutorial.bind(this);\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: {\n        username: \"\"\n      },\n      id: null,\n      title: \"\",\n      description: \"\",\n      published: false,\n      submitted: false\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n    if (!currentUser) this.setState({\n      redirect: \"/home\"\n    });\n    this.setState({\n      currentUser: currentUser,\n      userReady: true\n    });\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  saveTutorial() {\n    var data = {\n      title: this.state.title,\n      description: this.state.description\n    };\n    TutorialDataService.create(data).then(response => {\n      this.setState({\n        id: response.data.id,\n        title: response.data.title,\n        description: response.data.description,\n        published: response.data.published,\n        submitted: true\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  newTutorial() {\n    this.setState({\n      id: null,\n      title: \"\",\n      description: \"\",\n      published: false,\n      submitted: false\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: this.state.redirect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 14\n        }\n      });\n    }\n\n    const {\n      currentUser\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, this.state.userReady ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, currentUser.username), \" Profile\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, \"Token:\"), \" \", currentUser.accessToken.substring(0, 20), \" ...\", \" \", currentUser.accessToken.substr(currentUser.accessToken.length - 20)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, \"Id:\"), \" \", currentUser.id), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"Email:\"), \" \", currentUser.email), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, \"Authorities:\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, currentUser.roles && currentUser.roles.map((role, index) => /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 52\n      }\n    }, role)))) : null);\n  }\n\n}","map":{"version":3,"names":["React","Component","Redirect","AuthService","TutorialDataService","Profile","constructor","props","onChangeTitle","bind","onChangeDescription","saveTutorial","newTutorial","state","redirect","userReady","currentUser","username","id","title","description","published","submitted","componentDidMount","getCurrentUser","setState","e","target","value","data","create","then","response","console","log","catch","render","accessToken","substring","substr","length","email","roles","map","role","index"],"sources":["C:/Users/Ni3/Desktop/C DAC/Project/React/react-jwt-auth-master/src/components/profile.component.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport TutorialDataService from \"../services/ewaste.service\";\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.saveTutorial = this.saveTutorial.bind(this);\n    this.newTutorial = this.newTutorial.bind(this);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { username: \"\" },\n\n      id: null,\n      title: \"\",\n      description: \"\", \n      published: false,\n\n      submitted: false\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/home\" });\n    this.setState({ currentUser: currentUser, userReady: true })\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeDescription(e) {\n    this.setState({\n      description: e.target.value\n    });\n  }\n\n  saveTutorial() {\n    var data = {\n      title: this.state.title,\n      description: this.state.description\n    };\n\n    TutorialDataService.create(data)\n      .then(response => {\n        this.setState({\n          id: response.data.id,\n          title: response.data.title,\n          description: response.data.description,\n          published: response.data.published,\n\n          submitted: true\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  newTutorial() {\n    this.setState({\n      id: null,\n      title: \"\",\n      description: \"\",\n      published: false,\n\n      submitted: false\n    });\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"container\">\n        {(this.state.userReady) ?\n        <div>\n        <header className=\"jumbotron\">\n          <h3>\n            <strong>{currentUser.username}</strong> Profile\n          </h3>\n        </header>\n        <p>\n          <strong>Token:</strong>{\" \"}\n          {currentUser.accessToken.substring(0, 20)} ...{\" \"}\n          {currentUser.accessToken.substr(currentUser.accessToken.length - 20)}\n        </p>\n        <p>\n          <strong>Id:</strong>{\" \"}\n          {currentUser.id}\n        </p>\n        <p>\n          <strong>Email:</strong>{\" \"}\n          {currentUser.email}\n        </p>\n        <strong>Authorities:</strong>\n        <ul>\n          {currentUser.roles &&\n            currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n        </ul>\n      </div>\n      \n      \n      \n      \n      \n      : null}\n      \n      </div>\n\n\n\n\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}